<?xml version="1.0" encoding="UTF-8" ?>
<!--
	(c) GeneSEZ Research Group
	All rights reserved.
	
	Licensed according to GeneSEZ License Terms <http://www.genesez.org/en/license>
-->

<!--
	Type Mapping for TYPO3 CMS Extensions based on TYPO3 CMS specific Extbase + Fluid.
	
	@author	Nico Herbig <nico.herbig@fh-zwickau.de> (maintainer)
-->
<tns:typeMapping xmlns:tns="http://www.genesez.org/typemapping"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<tns:include>
    	<tns:file>org/genesez/platform/typo3/cms/typemapping/typemapping.xml</tns:file>
	</tns:include>
	
	<!-- Multi Value Type Support -->
	<tns:multiValuedTypes>
		<tns:multiValuedType>
			<tns:default>array</tns:default>
			<tns:context name="Model">\TYPO3\CMS\Extbase\Persistence\ObjectStorage</tns:context>
		</tns:multiValuedType>
		<!-- 
		<tns:multiValuedType ordered="false" unique="false">
			<tns:default>array</tns:default>
			<tns:context name="Model">\TYPO3\CMS\Extbase\Persistence\ObjectStorage</tns:context>
		</tns:multiValuedType>
		<tns:multiValuedType ordered="false" unique="true">
			<tns:default>array</tns:default>
			<tns:context name="Model">\TYPO3\CMS\Extbase\Persistence\ObjectStorage</tns:context>
		</tns:multiValuedType>
		<tns:multiValuedType ordered="true" unique="false">
			<tns:default>array</tns:default>
			<tns:context name="Model">\TYPO3\CMS\Extbase\Persistence\ObjectStorage</tns:context>
		</tns:multiValuedType>
		<tns:multiValuedType ordered="true" unique="true">
			<tns:default>array</tns:default>
			<tns:context name="Model">\TYPO3\CMS\Extbase\Persistence\ObjectStorage</tns:context>
		</tns:multiValuedType>
		 -->
	</tns:multiValuedTypes>
	
	<!-- External Type Support -->
	<tns:externalTypes>
		<!-- UML specific Types -->
		<tns:type from="Boolean">
			<tns:to>boolean</tns:to>
			<tns:context name="SQLColumnDefinition">tinyint(1) unsigned DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Boolean</tns:context>
		</tns:type>
		
		<tns:type from="Integer">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Integer</tns:context>
		</tns:type>
		
		<tns:type from="String">
			<tns:to>string</tns:to>
			<tns:context name="SQLColumnDefinition">varchar(255) DEFAULT '' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">String</tns:context>
		</tns:type>
		
		<tns:type from="UnlimitedNatural">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Integer</tns:context>
		</tns:type>
		
		
		
		<!-- MagicDraw specific Types -->
		<tns:type from="boolean">
			<tns:to>boolean</tns:to>
			<tns:context name="SQLColumnDefinition">tinyint(1) unsigned DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Boolean</tns:context>
		</tns:type>
		
		<tns:type from="byte">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">tinyint(1) unsigned DEFAULT '' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx"></tns:context>
		</tns:type>
		
		<tns:type from="char">
			<tns:to>string</tns:to>
			<tns:context name="SQLColumnDefinition">varchar(1) DEFAULT '' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">String</tns:context>
		</tns:type>
		
		<tns:type from="date">
			<tns:to>\DateTime</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">DateTime</tns:context>
		</tns:type>
		
		<tns:type from="double">
			<tns:to>float</tns:to>
			<tns:context name="SQLColumnDefinition">double(11,2) DEFAULT '0.00' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Float</tns:context>
		</tns:type>
		<tns:type from="float">
			<tns:to>float</tns:to>
			<tns:context name="SQLColumnDefinition">double(11,2) DEFAULT '0.00' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Float</tns:context>
		</tns:type>
		
		<tns:type from="int">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Integer</tns:context>
		</tns:type>
		
		<tns:type from="long">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Integer</tns:context>
		</tns:type>
		
		<tns:type from="short">
			<tns:to>int</tns:to>
			<tns:context name="SQLColumnDefinition">int(11) DEFAULT '0' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">Integer</tns:context>
		</tns:type>
		
		<tns:type from="void">
			<tns:to>void</tns:to>
		</tns:type>
		
		
		
		<!-- PHP specific Types -->
		<tns:type from="mixed">
			<tns:to>mixed</tns:to>
			<tns:context name="SQLColumnDefinition">varchar(255) DEFAULT '' NOT NULL</tns:context>
			<tns:context name="TYPO3TCx">String</tns:context>
		</tns:type>
		
		
		
		<!-- TYPO3 CMS specific Extbase Domain Types -->		
		<tns:type from="AbstractEntity">
			<tns:to>\TYPO3\CMS\Extbase\DomainObject\AbstractEntity</tns:to>
		</tns:type>
		
		<tns:type from="AbstractValueObject">
			<tns:to>\TYPO3\CMS\Extbase\DomainObject\AbstractValueObject</tns:to>
		</tns:type>
		
		<tns:type from="BackendUserGroup">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\BackendUser</tns:to>
			<tns:context name="Namespace"></tns:context>
			<tns:context name="SQLTableName">fe_groups</tns:context>
		</tns:type>
		
		<tns:type from="BackendUser">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\BackendUser</tns:to>
			<tns:context name="SQLTableName">fe_users</tns:context>
		</tns:type>
		
		<tns:type from="Category">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\Category</tns:to>
			<tns:context name="SQLTableName">fe_users</tns:context>
		</tns:type>
		
		<tns:type from="FileMount">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\FileMount</tns:to>
			<tns:context name="SQLTableName">fe_groups</tns:context>
		</tns:type>
		
		<tns:type from="FrontendUserGroup">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\FrontendUserGroup</tns:to>
			<tns:context name="SQLTableName">fe_groups</tns:context>
		</tns:type>
		
		<tns:type from="FrontendUser">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Model\FrontendUser</tns:to>
			<tns:context name="SQLTableName">fe_users</tns:context>
		</tns:type>
		
		
		
		<!-- TYPO3 CMS specific Extbase Repository Types -->
		<tns:type from="Repository">
			<tns:to>\TYPO3\CMS\Extbase\Persistence\Repository</tns:to>
		</tns:type>
		
		<tns:type from="BackendUserGroupRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\BackendUserGroupRepository</tns:to>
			<tns:context name="Namespace"></tns:context>
		</tns:type>
		
		<tns:type from="BackendUserRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\BackendUserRepository</tns:to>
		</tns:type>
		
		<tns:type from="CategoryRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\CategoryRepository</tns:to>
		</tns:type>
		
		<tns:type from="FileMountRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\FileMountRepository</tns:to>
		</tns:type>
		
		<tns:type from="FrontendUserGroupRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\FrontendUserGroupRepository</tns:to>
		</tns:type>
		
		<tns:type from="FrontendUserRepository">
			<tns:to>\TYPO3\CMS\Extbase\Domain\Repository\FrontendUserRepository</tns:to>
		</tns:type>
		
		
		
		<!-- TYPO3 CMS specific Extbase Controller Types -->		
		<tns:type from="AbstractController">
			<tns:to>\TYPO3\CMS\Extbase\Mvc\Controller\AbstractController</tns:to>
		</tns:type>
		
		<tns:type from="ActionController">
			<tns:to>\TYPO3\CMS\Extbase\Mvc\Controller\ActionController</tns:to>
		</tns:type>
		
		<tns:type from="CommandController">
			<tns:to>\TYPO3\CMS\Extbase\Mvc\Controller\CommandController</tns:to>
		</tns:type>
		
		<tns:type from="CommandControllerInterface">
			<tns:to>\TYPO3\CMS\Extbase\Mvc\Controller\CommandControllerInterface</tns:to>
		</tns:type>
		
		<tns:type from="ControllerInterface">
			<tns:to>\TYPO3\CMS\Extbase\Mvc\Controller\ControllerInterface</tns:to>
		</tns:type>
		
		
		
		<!-- TYPO3 CMS specific Extbase Validator Types -->
		<tns:type from="AbstractValidator">
			<tns:to>\TYPO3\CMS\Extbase\Validation\Validator\AbstractValidator</tns:to>
		</tns:type>
		
		
		
		<!-- TYPO3 CMS specific Fluid ViewHelper Types -->
		<tns:type from="AbstractViewHelper">
			<tns:to>\TYPO3\CMS\Fluid\Core\ViewHelper\AbstractViewHelper</tns:to>
		</tns:type>
		<tns:type from="AbstractTagBasedViewHelper">
			<tns:to>\TYPO3\CMS\Fluid\Core\ViewHelper\AbstractTagBasedViewHelper</tns:to>
		</tns:type>
	</tns:externalTypes>
</tns:typeMapping>
