«REM»
	Association Template for C# interfaces
	
	@autor	Gerrit Beine
	@date	2008/01/18
«ENDREM»

«REM» import code gen meta model «ENDREM»
«IMPORT genesezMM»

«REM» useful metamodel extensions «ENDREM»
«EXTENSION de::genesez::platforms::dotnet::csharp::scripts::Conversion»
«EXTENSION de::genesez::platforms::dotnet::csharp::scripts::Naming»

«IMPORT de::genesez::platforms::dotnet::csharp»

«REM»
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	public functions
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
«ENDREM»


«REM»
	generate association attributes for an interface
«ENDREM»
«DEFINE PropertyDecl FOR MInterface-»
«FOREACH property.typeSelect(MAssociationRole) AS a-»
	«EXPAND PropertyDecl FOR a-»
«ENDFOREACH-»
«ENDDEFINE»


«REM»
	generate attributes for an interface
«ENDREM»
«DEFINE OperationDecl FOR MInterface-»
«FOREACH property.typeSelect(MAssociationRole) AS a-»
	«EXPAND InsertInDecl FOR a-»
	«EXPAND RemoveFromDecl FOR a-»
«ENDFOREACH-»
«ENDDEFINE»


«REM>
	generate property declaration for an association
«ENDREM»
«DEFINE PropertyDecl FOR MAssociationRole-»
«IF isPlainAssociation()-»
	«IF multiplicity == 1-»
		«EXPAND _PropertyDecl( type.name(),
		                    asPublicFieldName() )-»
	«ELSE-»
		«EXPAND _PropertyDecl( typeMap( "Set" ) + "<" + type.name() + ">",
		                    asPublicFieldName() )-»
	«ENDIF-»
«ELSE-»
	«EXPAND _PropertyDecl( typeMap( "Set" ) + "<" + type.name() + ">",
	                    asPublicFieldName() )-»
	«EXPAND _PropertyDecl( typeMap( "Set" ) + "<" + assocClass().name() + ">",
                        asPublicFieldName() + assocClass().name )-»
«ENDIF-»
«ENDDEFINE»


«REM>
	generate insert into declaration for an association
«ENDREM»
«DEFINE InsertIntoDecl FOR MAssociationRole-»
«IF isPlainAssociation()-»
	public void «asAddTo(name)»(«type.name()» _add);
«ELSE-»
	public void «asInsertIn(name)»(«type.name()» _insert, «assocClass().name» _at);
«ENDIF-»
«ENDDEFINE»


«REM>
	generate remove from declaration for an association
«ENDREM»
«DEFINE RemoveFromDecl FOR MAssociationRole-»
	public void «asRemoveFrom(name)»(«type.name()» _remove);
«ENDDEFINE»


«REM»
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
	private functions
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
«ENDREM»


«REM»
	generate public field declaration for an association
«ENDREM»
«DEFINE _PropertyDecl(String type, String name) FOR MAssociationRole-»
«EXPAND templates::Attribute::Comment-»
public «type» «asPropertyName()»
{
	get;
}
«ENDDEFINE»
