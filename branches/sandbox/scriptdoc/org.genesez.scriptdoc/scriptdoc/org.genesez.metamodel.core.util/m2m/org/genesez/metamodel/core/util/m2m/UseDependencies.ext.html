<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>UseDependencies.ext</title>

<script type="text/JavaScript">
	function toggle(d) {
		var o = document.getElementById(d);
		o.style.display = (o.style.display == 'none') ? 'block' : 'none';
	}
</script>

</head>
<body>

	<HR>

<!-- ========= START OF TOP NAVBAR ======= -->
	<A NAME="navbar_top"><!-- --></A>
	<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
	<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
		<TR>
			<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
				<A NAME="navbar_top_firstrow"><!-- --></A>
				<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
	  				<TR ALIGN="center" VALIGN="top">
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../allscripts.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../package-summary.html""><FONT CLASS="NavBarFont1"><B>Namespace</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../metatype-summary.html"><FONT CLASS="NavBarFont1"><B>Metatype</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../index/index-0.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"><A HREF="../../../../../../../../stats-summary.html"><FONT CLASS="NavBarFont1"><B>Stats</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
	  				</TR>
				</TABLE>
			</TD>
			<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
			</EM>
			</TD>
		</TR>
	</TABLE>
	<A NAME="skip-navbar_top"></A>

<!-- ========= END OF TOP NAVBAR ========= -->

	<HR>
	<br><br>
	
	<TABLE width="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
		<tr>
			<th align=center>Namespace</th>
			<th align="center">Project</th>
			<th align="center">Directory</th>
		</tr>
	<TR>
		<td align=center><font size="-1">::UseDependencies.ext</font></td>
		<td align=center><font size="-1">/home/nicher/workspace/workspace.genesez_devel/org.genesez.metamodel.core.util/m2m/org/genesez/metamodel/core/util/m2m/UseDependencies.ext</font></td>
		<td align=center><font size="-1">/home/nicher/workspace/workspace.genesez_devel/org.genesez.metamodel.core.util/m2m/org/genesez/metamodel/core/util/m2m/UseDependencies.ext</font></td>
	</TR>
	</table>

	<H1>UseDependencies.ext</H1>
	<pre>/**
 * Helper for dealing with use dependencies of model elements
 * 
 * there are two different ways to handle use dependencies:
 * <ul>
 *   <li>
 *     you can add them to the model during a model modification or a model-to-model transformation, 
 *     that means the 'supplier' reference from MClassifier to MType
 *   </li>
 *   <li>
 *     you can just get them as a collection of MType without touching the model
 *   </li>
 * </ul>
 * 
 * @author	tobias haubold <toh@fh-zwickau.de>
 */</pre><hr>
	<pre>import <b>gcore</b>;</pre><BR>
	<pre>extension <A HREF="../../../../../../../util/org/genesez/metamodel/core/util/AccessHelper.ext.html"><B>org::genesez::metamodel::core::util::AccessHelper</B></A></pre>
	<br><hr><br><br>
	<div>
		<A NAME="function_summary"><!-- --></A>
		<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
			<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
				<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
					<B>Function Summary</B></FONT>
				</TH>
			</TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public MModel <B><A HREF="UseDependencies.ext.html#addUseDependencies">addUseDependencies</A></B>(<B><A HREF="../../../../../../../../metatypes/MModel.html">MModel</A>&nbsp;this</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>private Collection[MType] <B><A HREF="UseDependencies.ext.html#collectUseDependencies">collectUseDependencies</A></B>(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>private List[MType] <B><A HREF="UseDependencies.ext.html#filter">filter</A></B>(<B><A HREF="../../../../../../../../metatypes/MType.html">MType</A>&nbsp;List[] l</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>private MClassifier <B><A HREF="UseDependencies.ext.html#process">process</A></B>(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>private MPackage <B><A HREF="UseDependencies.ext.html#process">process</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public Collection[MType] <B><A HREF="UseDependencies.ext.html#useDependencies">useDependencies</A></B>(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</B>)</CODE></TD></TR>
		</TABLE>
	</div>

	<br><br><hr><br><br>
	
	<A NAME="Template_detail"><!-- --></A>
		<div>
			<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
				<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
					<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
						<B>Function Detail</B></FONT>
					</TH>
				</TR>
			</TABLE>
					
			<A NAME="addUseDependencies"><!-- --></A><H3>addUseDependencies</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MModel.html">MModel</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>MModel </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MModel.html">MModel</A>&nbsp;this</b></PRE><PRE>calls: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>NONE</b></PRE><DD><PRE>/**
 * adds all use dependencies of types to the 'supplier' reference of classifiers
 * iterates over the model and contained packages and processes all classifiers
 * @return	the same model as given
 */</PRE><b>public &nbsp;&nbsp;MModel &nbsp;addUseDependencies</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MModel.html">MModel</A>&nbsp;this)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody1');">Show Codebody</a><textarea id="codebody1" style="display:none; width:100%;" rows="3">process() ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="collectUseDependencies"><!-- --></A><H3>collectUseDependencies</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A></B></PRE><PRE>Visibility: <b>private </b></PRE><PRE>Returntype: <b>Collection[MType] </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( generalization )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( operation.parameter.type.filter() )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( operation.raisedException.filter() )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( operation.reject(e|!e.hasReturn()).return.type.filter())</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( property.type.filter() )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( realization )</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#filter"><B>filter</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>hasReturn</A>()</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>reject</A>(e|!e.hasReturn())</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>(<A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A> this)</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#useDependencies"><B>useDependencies</A>(<A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A> this)</B><BR></b></PRE><DD><PRE>/**
 * collects the use dependencies of a classifier
 * @return	the use dependencies
 */</PRE><b>private &nbsp;&nbsp;Collection[MType] &nbsp;collectUseDependencies</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody2');">Show Codebody</a><textarea id="codebody2" style="display:none; width:100%;" rows="16">let deps = {} :
		// add types of properties
		deps.addAll( property.type.filter() ) ->
		// add return parameter types of operations
		deps.addAll( operation.reject(e|!e.hasReturn()).return.type.filter()) ->
		// add raised exceptions
		deps.addAll( operation.raisedException.filter() ) ->
		// add parameter types of operation parameters
		deps.addAll( operation.parameter.type.filter() ) ->
		// add supertypes
		deps.addAll( generalization ) ->
		deps.addAll( realization ) ->
		
		// remove duplicates !?! - but don't appear, maybe ecore removes them for us :)
	deps;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="filter"><!-- --></A><H3>filter</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MType.html">MType</A></B></PRE><PRE>Visibility: <b>private </b></PRE><PRE>Returntype: <b>List[MType] </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MType.html">MType</A>&nbsp;List[] l</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>reject</A>( e| e.metaType == MGeneric )</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#collectUseDependencies"><B>collectUseDependencies</A>(<A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A> this)</B><BR></b></PRE><DD><PRE>/**
 * removes all primitive types and all generics from the list
 * don't change parameter l to context - currently doesn't work with oAW 4.2
 * @param	l	list with types
 * @return		list with filtered types
 */</PRE><b>private &nbsp;&nbsp;List[MType] &nbsp;filter</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MType.html">MType</A>&nbsp;List[] l)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody3');">Show Codebody</a><textarea id="codebody3" style="display:none; width:100%;" rows="2">l.reject( e| e.metaType == MGeneric );</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="process"><!-- --></A><H3>process</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A></B></PRE><PRE>Visibility: <b>private </b></PRE><PRE>Returntype: <b>MClassifier </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>addAll</A>( collectUseDependencies() )</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#collectUseDependencies"><B>collectUseDependencies</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#addUseDependencies"><B>addUseDependencies</A>(<A HREF="../../../../../../../../metatypes/MModel.html">MModel</A> this)</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extend"><B>extend</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, String tokenRegExp)</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this)</B><BR></b></PRE><DD><PRE>/**
 * adds all used types to the supplier (use dependency) collection
 * used types are: class, interface, enumeration, data type, external types
 * not included: primitive types, generics
 */</PRE><b>private &nbsp;&nbsp;MClassifier &nbsp;process</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody4');">Show Codebody</a><textarea id="codebody4" style="display:none; width:100%;" rows="3">supplier.addAll( collectUseDependencies() ) ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="process"><!-- --></A><H3>process</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>private </b></PRE><PRE>Returntype: <b>MPackage </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this</b></PRE><PRE>calls: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#addUseDependencies"><B>addUseDependencies</A>(<A HREF="../../../../../../../../metatypes/MModel.html">MModel</A> this)</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extend"><B>extend</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, String tokenRegExp)</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this)</B><BR></b></PRE><DD><PRE>/**
 * processes all subpackages + classifiers within a package
 * @return	the same package as given
 */</PRE><b>private &nbsp;&nbsp;MPackage &nbsp;process</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody5');">Show Codebody</a><textarea id="codebody5" style="display:none; width:100%;" rows="4">nestedPackage.process() ->
	classifier.process() ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="useDependencies"><!-- --></A><H3>useDependencies</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>Collection[MType] </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this</b></PRE><PRE>calls: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#collectUseDependencies"><B>collectUseDependencies</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>NONE</b></PRE><DD><PRE>/**
 * collects the use dependencies of a classifier
 * @return	the use dependencies
 */</PRE><b>public &nbsp;&nbsp;Collection[MType] &nbsp;useDependencies</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MClassifier.html">MClassifier</A>&nbsp;this)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody6');">Show Codebody</a><textarea id="codebody6" style="display:none; width:100%;" rows="2">collectUseDependencies();</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
		</div>
</body>
</html>
