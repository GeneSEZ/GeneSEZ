/**
 * 	Validates the model for TYPO3 code generation
 *  
 * @author	Nico Herbig <nico.herbig@fh-zwickau.de>
 * @date	2011-08-11
 */

// based on genesez meta model
import gcore;

// use TYPO3 profile + access helper scripts
extension org::genesez::platform::typo3v4::profile::Profile;
extension org::genesez::platform::typo3v4::profile::AccessHelper;


/*
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
*/

/**
 * Checks if the model has has the stereotype which is needed for extension manager.
 * 
 * @return	False, if the model hasn't this sterotype, otherwise true.
 */
context MModel ERROR "GeneSEZ: TYPO3 extension manager (stereotype: " + prT3ExtensionManager() + ") is missing!" :
	hasT3ExtensionManagerStereotype();
	

/**
 * Checks if the model has has a utilizable tagged value for the name of the extension which is needed for extension manager.
 * 
 * @return	False, if the model hasn't this utilizable tagged value, otherwise true.
 */
context MModel ERROR "GeneSEZ: The name of the extension for TYPO3 extension manager (stereotype: " + prT3ExtensionManager() + ", tagged value: " + prT3ExtensionManagerTitle() + ") is missing or empty!" :
	getT3ExtensionManagerTitle() != "";


/**
 * Checks if the model has has a utilizable tagged value for the description of the extension which is needed for extension manager.
 * 
 * @return	False, if the model hasn't this utilizable tagged value, otherwise true.
 */
context MModel ERROR "GeneSEZ: The description of the extension for TYPO3 extension manager (stereotype: " + prT3ExtensionManager() + ", tagged value: " + prT3ExtensionManagerDescription() + ") is missing or empty!" : 
	getT3ExtensionManagerDescription() != "";