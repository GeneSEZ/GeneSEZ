<?xml version="1.0"?>
<project name="de.genesez.build.imports" basedir=".." default="">

	<!-- Set the build.basedir property -->
	<dirname property="project.build.dir" file="${ant.file.de.genesez.build.imports}" />
	<property name="project.dir" value="${project.build.dir}/.." />
	<condition property="build.basedir"
		value="${basedir}/.."
		else="${project.dir}/..">
		<matches pattern="de.genesez.build" string="${ant.file}" />
	</condition>

	<property name="build.basedir.absolute" location="${build.basedir}"/>

	<import file="environment.xml"/>
	<import file="classpath.xml"/>
	<import file="antcontrib.xml" />
	<import file="release.xml" />

	<!-- if imports.xml is used by a subproject directly without
		the control of de.genesez.build the environment properties may need to be set -->
	<if>
		<not>
			<isset property="env"/>
		</not>
		<then>
			<echo message="WARNING: This build is not controlled via de.genesez.build!"/>
			<property environment="env"/>
		</then>
	</if>

</project>
