<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>PackageExtend.ext</title>

<script type="text/JavaScript">
	function toggle(d) {
		var o = document.getElementById(d);
		o.style.display = (o.style.display == 'none') ? 'block' : 'none';
	}
</script>

</head>
<body>

	<HR>

<!-- ========= START OF TOP NAVBAR ======= -->
	<A NAME="navbar_top"><!-- --></A>
	<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
	<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
		<TR>
			<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
				<A NAME="navbar_top_firstrow"><!-- --></A>
				<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
	  				<TR ALIGN="center" VALIGN="top">
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../allscripts.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../package-summary.html""><FONT CLASS="NavBarFont1"><B>Namespace</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../metatype-summary.html"><FONT CLASS="NavBarFont1"><B>Metatype</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../index/index-0.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"><A HREF="../../../../../../../../stats-summary.html"><FONT CLASS="NavBarFont1"><B>Stats</B></FONT></A>&nbsp;</TD>
	  					<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1"><A HREF="../../../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
	  				</TR>
				</TABLE>
			</TD>
			<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
			</EM>
			</TD>
		</TR>
	</TABLE>
	<A NAME="skip-navbar_top"></A>

<!-- ========= END OF TOP NAVBAR ========= -->

	<HR>
	<br><br>
	
	<TABLE width="100%" BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
		<tr>
			<th align=center>Namespace</th>
			<th align="center">Project</th>
			<th align="center">Directory</th>
		</tr>
	<TR>
		<td align=center><font size="-1">::PackageExtend.ext</font></td>
		<td align=center><font size="-1">/home/nicher/workspace/workspace.genesez_devel/org.genesez.metamodel.core.util/m2m/org/genesez/metamodel/core/util/m2m/PackageExtend.ext</font></td>
		<td align=center><font size="-1">/home/nicher/workspace/workspace.genesez_devel/org.genesez.metamodel.core.util/m2m/org/genesez/metamodel/core/util/m2m/PackageExtend.ext</font></td>
	</TR>
	</table>

	<H1>PackageExtend.ext</H1>
	<pre>/**
 * Extends specific package names to package hierarchy structures.
 * 
 * For example, given token = '.' and tokenRegExp = '\\.' and a package with name 'org.genesez.workflow',
 * the package structure:
 * - <container>
 *   - org.genesez.workflow
 *     ...
 * is modified to as follows:
 * - <container>
 *   - org
 *     - genesez
 *       - workflow
 *         ...
 * 
 * @author tobias haubold
 */</pre><hr>
	<pre>import <b>gcore</b>;</pre><BR>
	<pre>extension <A HREF="../../../../../../../../org.genesez.util/logging/org/genesez/util/logging/Logging.ext.html"><B>org::genesez::util::logging::Logging</B></A></pre>
	<pre>extension <A HREF="../../../../../../../util/org/genesez/metamodel/core/util/Conversion.ext.html"><B>org::genesez::metamodel::core::util::Conversion</B></A></pre>
	<pre>extension <A HREF="CreateElement.ext.html"><B>org::genesez::metamodel::core::util::m2m::CreateElement</B></A></pre>
	<br><hr><br><br>
	<div>
		<A NAME="function_summary"><!-- --></A>
		<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
			<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
				<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
					<B>Function Summary</B></FONT>
				</TH>
			</TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public MPackage <B><A HREF="PackageExtend.ext.html#build">build</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public MPackage <B><A HREF="PackageExtend.ext.html#buildHierarchy">buildHierarchy</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name, List[String] remaining</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public MPackage <B><A HREF="PackageExtend.ext.html#extend">extend</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, String tokenRegExp</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public List[MPackage] <B><A HREF="PackageExtend.ext.html#extendibles">extendibles</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, List[MPackage] list</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public boolean <B><A HREF="PackageExtend.ext.html#isExtendible">isExtendible</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token</B>)</CODE></TD></TR>
			<TR BGCOLOR="white" CLASS="TableRowColor"><TD><CODE>public MPackage <B><A HREF="PackageExtend.ext.html#process">process</A></B>(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String tokenRegExp</B>)</CODE></TD></TR>
		</TABLE>
	</div>

	<br><br><hr><br><br>
	
	<A NAME="Template_detail"><!-- --></A>
		<div>
			<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
				<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
					<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
						<B>Function Detail</B></FONT>
					</TH>
				</TR>
			</TABLE>
					
			<A NAME="build"><!-- --></A><H3>build</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>MPackage </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>add</A>( this )</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>createPackage</A>( this.xmiGuid + "_" + name, name )</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#buildHierarchy"><B>buildHierarchy</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String name, List[String] remaining)</B><BR></b></PRE><DD><PRE></PRE><b>public &nbsp;&nbsp;MPackage &nbsp;build</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody1');">Show Codebody</a><textarea id="codebody1" style="display:none; width:100%;" rows="3">nestingPackage.createPackage( this.xmiGuid + "_" + name, name ).nestedPackage.add( this ) ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="buildHierarchy"><!-- --></A><H3>buildHierarchy</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>MPackage </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name, List[String] remaining</b></PRE><PRE>calls: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#build"><B>build</A>( name )</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#buildHierarchy"><B>buildHierarchy</A>(
			build( name ),
			remaining.first(),
			remaining.withoutFirst()
		)</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>first</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>fqmn</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>logDebug</A>( "manipulate: " + fqmn() + " with " + name)</B><BR>	<A HREF="../../../../../../../../generated-function.html"><B>setName</A>( name )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>withoutFirst</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#buildHierarchy"><B>buildHierarchy</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String name, List[String] remaining)</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#process"><B>process</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String tokenRegExp)</B><BR></b></PRE><DD><PRE>/**
 * Modifies the package hierarchy for the specified package.
 * It inserts a new package with the specified name into this and its nestingPackage.
 * It calls itself recursively with all specified remaining packages except the last.
 * The last entry of the specified remaining is used to rename the specified package.
 */</PRE><b>public &nbsp;&nbsp;MPackage &nbsp;buildHierarchy</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String name, List[String] remaining)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody2');">Show Codebody</a><textarea id="codebody2" style="display:none; width:100%;" rows="10">logDebug( "manipulate: " + fqmn() + " with " + name) ->
	remaining.isEmpty
		? setName( name )
		: buildHierarchy(
			build( name ),
			remaining.first(),
			remaining.withoutFirst()
		) ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="extend"><!-- --></A><H3>extend</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>MPackage </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, String tokenRegExp</b></PRE><PRE>calls: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extendibles"><B>extendibles</A>( token, {} )</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#process"><B>process</A>( tokenRegExp )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>toSet</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>useLogger</A>("org.genesez.metamodel.core.util.m2m.PackageExtend")</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>NONE</b></PRE><DD><PRE>/**
 * Finds and extends all extendible packages under the specified package hierarchy.
 * Note: the specified package is not extended!
 */</PRE><b>public &nbsp;&nbsp;MPackage &nbsp;extend</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, String tokenRegExp)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody3');">Show Codebody</a><textarea id="codebody3" style="display:none; width:100%;" rows="6">useLogger("org.genesez.metamodel.core.util.m2m.PackageExtend") ->
	nestedPackage.extendibles( token, {} )
		.toSet()
		.process( tokenRegExp ) ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="extendibles"><!-- --></A><H3>extendibles</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>List[MPackage] </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, List[MPackage] list</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>add</A>( this )</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extendibles"><B>extendibles</A>( token, list )</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#isExtendible"><B>isExtendible</A>( token )</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extend"><B>extend</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, String tokenRegExp)</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extendibles"><B>extendibles</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, List[MPackage] list)</B><BR></b></PRE><DD><PRE>/**
 * Returns all packages to be extended.
 */</PRE><b>public &nbsp;&nbsp;List[MPackage] &nbsp;extendibles</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token, List[MPackage] list)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody4');">Show Codebody</a><textarea id="codebody4" style="display:none; width:100%;" rows="7">isExtendible( token )
		? list.add( this )
		: this ->
	// walk tree
	nestedPackage.extendibles( token, list ) ->
	list;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="isExtendible"><!-- --></A><H3>isExtendible</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>boolean </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token</b></PRE><PRE>calls: <b>
	<A HREF="../../../../../../../../integrated-function.html"><B>contains</A>( token )</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extendibles"><B>extendibles</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, List[MPackage] list)</B><BR></b></PRE><DD><PRE>/**
 * Returns true if this package is extendible, otherwise false.
 */</PRE><b>public &nbsp;&nbsp;boolean &nbsp;isExtendible</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String token)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody5');">Show Codebody</a><textarea id="codebody5" style="display:none; width:100%;" rows="2">name.contains( token );</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
			<A NAME="process"><!-- --></A><H3>process</H3><DL><PRE><b></b></PRE><PRE>MetaType: <B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A></B></PRE><PRE>Visibility: <b>public </b></PRE><PRE>Returntype: <b>MPackage </b></PRE><PRE>Parameters: <b><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String tokenRegExp</b></PRE><PRE>calls: <b>
	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#buildHierarchy"><B>buildHierarchy</A>( parts.first(), parts.withoutFirst() )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>first</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>fqmn</A>()</B><BR>	<A HREF="../../../../../../../../external-function.html"><B>logDebug</A>( "Extending package: " + fqmn() )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>split</A>( tokenRegExp )</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>trim</A>()</B><BR>	<A HREF="../../../../../../../../integrated-function.html"><B>withoutFirst</A>()</B><BR></b></PRE><PRE>called by Template: <b>NONE</b></PRE><PRE>called by Function: <b>
	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#addUseDependencies"><B>addUseDependencies</A>(<A HREF="../../../../../../../../metatypes/MModel.html">MModel</A> this)</B><BR>	<A HREF="PackageExtend.ext.html"><B>PackageExtend</B></A> :: <A HREF="PackageExtend.ext.html#extend"><B>extend</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this, String token, String tokenRegExp)</B><BR>	<A HREF="UseDependencies.ext.html"><B>UseDependencies</B></A> :: <A HREF="UseDependencies.ext.html#process"><B>process</A>(<A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A> this)</B><BR></b></PRE><DD><PRE>/**
 * Extends the specified package using the specified regex to split its name into the package names.
 */</PRE><b>public &nbsp;&nbsp;MPackage &nbsp;process</B>&nbsp;(<B><A HREF="../../../../../../../../metatypes/MPackage.html">MPackage</A>&nbsp;this, String tokenRegExp)&nbsp:</B><PRE><code><BLOCKQUOTE><a href="javascript:;" onClick="toggle('codebody6');">Show Codebody</a><textarea id="codebody6" style="display:none; width:100%;" rows="6">logDebug( "Extending package: " + fqmn() ) ->
	( let parts = name.split( tokenRegExp ).trim() :
		buildHierarchy( parts.first(), parts.withoutFirst() )
	) ->
	this;</textarea></BLOCKQUOTE></code></PRE></DD><hr></DL>
		</div>
</body>
</html>
